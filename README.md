# tableau-practice-questions-1

#### 練習問題１

2020年から2024年までの東京の日別降水量データを使用して、月別降水量を表す次のようなビジュアル表現を作成しましょう。  
・「年月日」の年と月単位で、「東京の降水量合計（Mm）」の合計を棒グラフで表示.。  
・月ごとの「東京の降水量合計（Mm）」の合計を平均した線を追加。  
・最新12カ月間でフィルター。  

##### ポイント

1,年月日をフィルターにドロップ右クリックで「相対日付」を選ぶ  
 [相対日付］をクリックし、［次へ］をクリックします。  
［月］をクリックし、［過去］を選択し、［12］か月間を指定します。   
 相対的な期間を指定する際の基準日となる［基準アンカー］に「2024/12/31」を指定します。  
 今回のデータは「2024/12/31」までのためこの日付を指定しますが、  
 基準アンカーのデフォルトは［今日（ワークブックを開いた日）］なので、  
 ビジネスシーンで指定する必要がない場合も多いです。  

2,アナリティクスから平均線を選ぶ  

<img width="983" height="802" alt="image" src="https://github.com/user-attachments/assets/99d7f869-bbab-4501-84f7-1c988ab2cda6" />

#### 練習問題2

ホテルの予約データを使用して、各ホテル種別で宿泊数とキャンセル数の月別推移を把握する    
次のようなビジュアル表現を作成しましょう。    
・「到着日」を月単位で、予約数を折れ線グラフで表示。  
・「到着日」は「Arrival Date Year」（到着日の年）、「Arrival Date Month」（到着日の月）、  
「Arrival Date Day Of Month」（到着日の日）を使用して作成。  
・「Hotel」（ホテルの種類）でグラフを分ける。  
・「Is Canceled」（キャンセルの有無）で色分け。  

##### 解答
1. 年、月、日の各フィールドから、日付のフィールドを作成します。  
メニューバーから［分析］→［計算フィールドの作成］をクリックします。  
2. 「到着日」という名前にして、図のように式を組み立てます。  

MAKEDATE(  
[Arrival Date Year],  
[Arrival Date Month],  
[Arrival Date Day Of Month])  
 
.
3. ［OK］をクリックして画面を閉じます。  
4. ［データ］ペインの［Is Canceled］をメジャーからディメンションにドロップします。  
　　これにより、数値の合計ではなく、0（宿泊）と 1（キャンセル）の分類として使えるようになります。  
5. ［データ］ペインの［Is Canceled］をクリックし、［別名］をクリックします。  
6. 図のように入力します。  
　　0：宿泊  
　　1：キャンセル  
7. ［OK］をクリックして画面を閉じます。  
8. 折れ線グラフを作成します。  
　［データ］ペインから［1.2_hotel_bookings.csv（カウント）］を［行］にドロップします。  
9. ［データ］ペインから［到着日］をクリックしながら［列］にドロップします。  
　　右クリックしながらシェルフにドロップすると、集計の種類を指定して配置できます。  
10. 開いた画面で下にある連続の［月（到着日）］をクリックします。  
11. ［OK］をクリックして画面を閉じます。  
12. ［データ］ペインから［Hotel］を［行］に［Is Canceled］を［マーク］カードの［色］にドロップします。

##### ポイント

🔹「メジャーからディメンションにドロップ」とは？  
左側ペインの下にあるメジャーの中の項目（例：売上、数量など）を、  
👉 マウスでつかんで  
👉 そのまま上のディメンションエリアへドラッグして  
👉 離す  
という操作です。

##### ディメンションとメジャーの違い

🔹 ディメンション（Dimension）  
👉 分類・グループ分けする項目  
例：  
日付  
地域  
商品名  
性別  
→ 「横軸」「色分け」「行のカテゴリ」などに使われます。  

🔹 メジャー（Measure）  
👉 数値として集計される項目  
例：  
売上  
数量  
利益  
点数  
→ 「合計」「平均」「最大値」などで計算され、棒の長さや点の位置になります。  

| 種類      | 役割       |
| ------- | -------- |
| ディメンション | 分ける・分類する |
| メジャー    | 測る・計算する  |


<img width="1319" height="818" alt="スクリーンショット 2026-01-20 135756" src="https://github.com/user-attachments/assets/162d0aca-b250-4fa1-a969-114bf194dd82" />


#### 練習問題3

民泊サービスAirbnbの東京都における宿泊施設ごとのデータがあります。このデータを使用して、市区町村ごとの平均価格を表す、次のようなビジュアル表現を作成しましょう。  
・「Neighbourhood」（市区町村）ごとに、「Host Id」（宿泊施設の貸主ID）の数を棒グラフで降順に表示。  
・「Price」（価格）の平均で色分け。  
・30以上の「Host Id」が存在する「Neighbourhood」のみ表示。  

##### ポイント

 Host Id を 30 以上でフィルターします。［データ］ペインから［Host Id］を右クリックしながら［フィルター］シェルフにドロップします。  
 開いた画面で［カウント（個別）］をクリックして、［次へ］をクリックします。  
［最小値］をクリックして、「30」と入力します。  

<img width="1311" height="660" alt="スクリーンショット 2026-01-20 140644" src="https://github.com/user-attachments/assets/308dafbb-e372-4f0c-9458-5e3eb0fc0759" />

👉 横軸 = 列（Columns）シェルフ  
👉 縦軸 = 行（Rows）シェルフ  


#### 練習問題4

Coffee Quality Instituteが収集したコーヒーの品質データを使用して、原産国ごとの品質評価を一覧表で示す次のようなビジュアル表現を作成しましょう。 

・「Country.Of.Origin」（原産国）と「Region」（地域）ごとに「Acidity」（酸度）、「Aftertaste」（後味）、「Aroma」（香り）、「Balance」（バランス）、「Body」（ボディ）、「Flavor」（味）、の６項目について、値の平均をクロス集計で表示。    
・値の平均を５段階で色分け。  
・１０件以上のレビューがある「Region」のみ表示。  

#### 回答

1. まずクロス集計を作成します。［データ］ペインから［Country.of.Origin］と［Region］を［行］にドロップします。  
2. ［データ］ペインから［Acidity］を［マーク］カードの［テキスト］にドロップします。  
3. ［Aftertaste］から［Flavor］までの残り 5 つのメジャーを、［Shift］キーを押しながら選択します。  
4. 選択したメジャーを［一つ中央にドラッグして、［表形式］を表示できるスペース］にドロップします。  
5. ［メジャーバリュー］シェルフで、［Shift］キーを押しながらすべてのピルを選択します。  
6. 右クリックし、［メジャー（合計）］→［平均］をクリックします。  
7. 背景で色表現します。マーク］カードのマークタイプを［四角］にします。  
8. 色を変更します。［データ］ペインから［メジャーバリュー］を［マーク］カードの［色］にドロップします。  
9. ［色］＞［色の編集］をクリックし、パレットを［オレンジ‐青の分化］に変更、［ステップカラー］にチェックを入れ、5 段階に色分けします。  
10. ［OK］をクリックして画面を閉じます。  
11. ［データ］ペインから［1.4_coffee.csv（カウント）］を［フィルター］シェルフにドロップします。  
12. ［最小値］をクリックして、「10」と入力します。  
13. ［OK］をクリックして画面を閉じます。

 <img width="1314" height="745" alt="スクリーンショット 2026-01-20 142509" src="https://github.com/user-attachments/assets/3fe549ab-38bf-4608-a336-80504bfc2a3d" />

 #### 練習問題5

 東京都では、年代・地域区分別の衆議院選挙の投票率データが公開されています。別の投票率を把握する次のようなビジュアル表現を作成しましょう。  
・「年代」と「地域」ごとの「投票率」の平均を棒グラフで表示。  
・棒グラフを投票率50%以上と50%未満で色分け。  

##### 解答

1. まず、横方向に広がるデータを縦方向に変換します。［データソース］ページのデータグリッドで、18歳」から「80代以上」までを［Shift］キーを押しながらすべて選択します。
2. 複数のフィールドが選択された状態で、右クリックして［ピボット］をクリックします。  
3. フィールド名をダブルクリックして、［ピボットのフィールド名］を「年代」に、ピボットのフィールド値］を「投票率」に、［地域 別］を「地域」に名前を変更します。  
4. ［シート］に移動し、メニューバーから［分析］→［計算フィールドの作成］をクリックします。  
5. 「投票率50%以上・未満」という名前にして、図のように式を組み立てます。  
　　AVG([投票率]) >= 50   
6. ［OK］をクリックして画面を閉じます。      
7. 表を参考に棒グラフを作成します。    
8. ［マーク］カードの［色］＞［色の編集］をクリックして、色を変更します。    
9. 線を表示します。画面左上の［データ］ペインの隣にある［アナリティクス］ペインから［定数線］をビューにドラッグし、［テーブル］にドロップします。      
10. 「50」と入力します  

<img width="1318" height="563" alt="スクリーンショット 2026-01-20 143454" src="https://github.com/user-attachments/assets/8a51ccc0-0ee5-45d1-9a56-4bff3b38cb2c" />

##### ポイント

tableauではAVGと表現する  

|     | Excel      | Tableau |
| --- | ---------- | ------- |
| 単位  | セル         | ビューの粒度  |
| 集計  | 手動         | 自動      |
| 書き方 | =AVERAGE() | AVG()   |

| Tableau  | Excel           |
| -------- | --------------- |
| AVG()    | AVERAGE()       |
| COUNT()  | COUNT()         |
| COUNTD() | COUNT(DISTINCT) |
| SUM()    | SUM()           |
| MIN()    | MIN()           |
| MAX()    | MAX()           |

別名をつけられる時とつけられないとき

| 項目タイプ      | あなたの画面例        | 別名     |
| ---------- | -------------- | ------ |
| 青（ディメンション） | 地域・年代          | ✅ できる  |
| 緑（メジャー）    | 投票率・投票率50%以上未満 | ❌ できない |


 #### 練習問題6

東京都の不動産取引データと人口データが公開されています。住宅の不動産価格と65歳以上の人口割合の関係を把握する次のようなビジュアル表現を作成しましょう。  
・不動産データ「1.6_tokyo_real_estate_prices_2024.csv」と人口データ「1.6_tokyo_population_2024.csv」は、「市区町村コード」と「地域コード」で紐づく。  
・「市区町村」ごとの「取引価格（総額）」の平均と「65歳以上人口/割合（%）」の平均を散布図で表示。  
・円の大きさで不動産の取引数を表現。  
・「今後の利用目的」を「住宅」でフィルターし、傾向線を累乗で表示。  

##### 解答

1. まず、2 つのデータを組み合わせます。フォルダー「1.6_tokyo」にある［1.6_tokyo_real_estate_prices_2024.csv］に接続します。  
2. ［データソース］ページの左側のペインから［1.6_tokyo_population_2024.csv］をキャンバスにドロップします。  
3. 「市区町村コード」と「地域コード」で紐づけます。  
4. ［シート］に移動して、散布図を作成します。
 
　表を参考に散布図を作成します。    

［列］	［平均（65歳以上人口 割合(%)）］  
［行］	［平均（取引価格（総額））］  
［マーク］カードの［ラベル］	［市区町村名］  
［マーク］タイプ	［円］  
［マーク］カードの［サイズ］	　［カウント（1.6_tokyo_real_estate_prices_2024.csv）］  
［フィルター］	［今後の利用目的］※［住宅］を選択  

5. 横軸の範囲を変更します。横軸を右クリックし、［軸の編集］をクリックします。  
6. ［ゼロを含める］のチェックを外し、［×］をクリックして画面を閉じます。  
7. ［マーク］カードの［サイズ］をクリックし、スライダーでサイズを調整します。  
8. ［マーク］カードの［色］をクリックして、色を変更します。  
9. 不透明度を下げ、枠線の色を変更します。不透明度を下げることで、重なった円を見えるようにします。  
10. 画面左上の［データ］ペインの隣にある［アナリティクス］ペインから［傾向線］をビューにドラッグし、［標準］にドロップします。  
 
##### ポイント

正しい結合設定  
左（r：不動産データ） → 市区町村コード  
右（p：人口データ） → 地域コード  
結合タイプ → 内部結合（Inner Join）  
真ん中は ＝  

<img width="1312" height="816" alt="スクリーンショット 2026-01-20 145505" src="https://github.com/user-attachments/assets/403d2b30-db0f-403a-a8d6-8837f209e7ff" />

デイメンション青の日付とメジャー緑の日付の違いはなんですか  

|    | 青（日付ディメンション）       | 緑（日付メジャー）   |
| -- | ------------------ | ----------- |
| 扱い | カテゴリ               | 連続した数値軸     |
| 表示 | 2023 / 2024 / 2025 | 時間の流れとして滑らか |
| 用途 | 比較・分類              | 推移・トレンド     |

#### 練習問題7

Apple社の株価の日別データを使用して、売買株数と株価の日別推移を表す次のようなビジュアル表現を作成しましょう。  
・「Date」（日付）を年と月と日の単位で、「Volume」（株数）の合計を棒グラフ、「Close」（株価）の合計を折れ線グラフで表示。  
・「Date」を最新月でフィルター。  

##### 解答

	
［列］	［年(Date)］、［月(Date)］、［日(Date)］  
［行］	［合計(Volume)］  


1. 表を参考にビューを作成します。  
2. ［データ］ペインから［Date］を［フィルター］シェルフにドロップします。  
3. ［年/月］をクリックします。  
4. ［次へ］をクリックします。  
5. ［ワークブックを開いたときに最新の日付にフィルターします］にチェックを入れます。  
6. ［OK］をクリックして画面を閉じます。  
7. 折れ線グラフを重ねます。［データ］ペインから［Close］をビューの右側にドラッグします。  
8. 緑色のルーラー（定規）と黒色の点線が表示されたら、そこでドロップします。  
9. 右の軸の範囲を変更します。右の軸を右クリックし、［軸の編集］をクリックします。  
10. ［ゼロを含める］のチェックを外し、［×］をクリックして画面を閉じます。  
11. ［マーク］カードの上側にある［合計(Volume)］で、マークタイプを［棒］にします。  
12. ［マーク］カードの［色］＞［色の編集］をクリックして、棒グラフの色を変更します。  
13. 右の軸が棒グラフと折れ線グラフのどちらを表すか分かるように、グラフに合わせて軸に色を付けます。右の軸を右クリックし、［書式設定］をクリックします。  
14. ［線］タブにある［既定］の［線］で色を変更します。  
15. 左の軸も同様に、13. と 14. を繰り返します。

##### ポイント

・［データ］ペインから［Close］をビューの右側にドラッグします。  
・ ［ワークブックを開いたときに最新の日付にフィルターします］にチェックを入れます。  
・［軸の編集］をクリックします。  ［ゼロを含める］のチェックを外し、［×］をクリックして画面を閉じます。

<img width="1312" height="819" alt="スクリーンショット 2026-01-20 153442" src="https://github.com/user-attachments/assets/c079cfb2-355c-4d5f-9f0f-6276d8a68391" />

 #### 練習問題8

Apple社の株価の日別データを使用して、前日と比べた株価の高低を表す次のようなビジュアル表現を作成しましょう。  
・「Date」（日付）の日ごとに、「Close」（株価）の合計を値え表示しつつ、前日比の高低を色や形状で表示。  
・「Date」を最新月でフィルター。  

##### 解答

1. まず、日付を表示します。［データ］ペインから［Date］を右クリックしながらドラッグして、［行］にドロップします。  
2. 不連続を表す青色の［Date（不連続）］をクリックします。  
3. ［OK］をクリックして画面を閉じます。  
4. 最終月だけにフィルターします。 練習問題7 の 2. から 6. の手順を行います。  
5. 前日と比べた株価の高低を判定します。［データ］ペインから［Close］を［マーク］カードの［テキスト］にドロップします。  
6. ［マーク］カードの［テキスト］にある［合計(Close)］をクリックし、［簡易表計算］→［差］をクリックします。  
7. ［マーク］カードの［テキスト］にある［合計(Close)］を右クリックし、［基準］→［前］が指定されていることを確認します。  
8. ［マーク］カードの［テキスト］にある［合計(Close)］をダブルクリックします。  
9. 式の一番右に「>0」を加えます。前日 > 当日 を表す計算式となり、真または偽が返ってきます。真偽の解釈は次のようになります。  
　・真：前日より当日の株価が高い  
　・偽：前日より当日の株価が低い  
10. 高低を形状と色で表します。［マーク］カードのマークタイプを［形状］にします。  
11. ［マーク］カードの［テキスト］にある 9. の青色のピルを、［マーク］カードの［形状］にドロップします。  
12. ［マーク］カードの［形状］にある青色のピルを、［Ctrl］キーを押しながら［マーク］カードの［色］にドロップします。これで［形状］に青色のピルを残したまま、複製して［色］に配置できます。  
13. ［マーク］カードの［色］＞［色の編集］をクリックして、色を変更します。［NULL］の色は、［データ項目の選択］文字の上をダブルクリックして消します。  
14. ［マーク］カードの［形状］をクリックして、形状を変更します。形状パレットの選択で［矢印］を選択すると、幅広な矢印を使用できます。  
15. ［マーク］カードの［サイズ］をクリックして、サイズを変更します。  
16. ［データ］ペインから［Close］を［マーク］カードの［ラベル］にドロップします。  
17. 表示をビュー全体に広げるため、ツールバーの［標準］から［幅を合わせる］や［ビュー全体］に変更して、ラベルを見えるようにします。 

 ※矢印マークが無かったので三角を使いました。  

 <img width="1315" height="746" alt="スクリーンショット 2026-01-21 104430" src="https://github.com/user-attachments/assets/3683787f-abbb-4578-af91-1d819e654136" />


#### 練習問題9

Spotifyの楽曲データを使用して、楽曲割合を示す次のようなビジュアル表現を作成しましょう。  
・7つの音楽ジャンルに分かれたデータをユニオンで縦に組み合わせる。  
・音楽ジャンルごとの楽曲割合を円グラフで降順に表示。  

##### 解答

1. まず、7 つのジャンルのデータをユニオンで縦に組み合わせて 1 つのデータにします。フォルダ「1.9_music」にあるデータ［alternative_music.csv］に接続します。  
2. キャンバスの［alternative_music.csv］を右クリックし、［ユニオンに変換］をクリックします。  
3. ［ワイルドカード（自動）］タブをクリックし、［OK］をクリックして画面を閉じます。ファイル名を指定しない場合、フォルダ内の「alternative_music.csv」を含むすべての CSV を対象として、すべてのデータを縦に組み合わせます。  
4. ファイル名から音楽種類の文字を抜き出します。データグリッドの右端にある［パス］を右クリックし、［分割］をクリックします。この［パス］フィールドは、ユニオン時に自動的に追加されるファイルのパス情報です。  
5. ［パス－分割済み 1］のフィールド名をダブルクリックして、「ジャンル」に名前を変更します。  
6. キャンバスの右上にある［抽出］をクリックします。※Tableau Publicにはないので省略  
7. ［シート］をクリックします。  
8. 抽出ファイルを保存する場所を指定し、［保存］をクリックします。  

［マーク］タイプ	［円グラフ］  
［色］	［ジャンル］  
［角度］	［カウント（alternative_music.csv）］  
［ラベル］：［ジャンル］    

9. ［シート］に移動して、表を参考に円グラフを作成します。    
10. ［マーク］カードの［色］にある［ジャンル］を右クリックし、［並べ替え］をクリックします。    
11. ［並べ替え］で、［フィールド］、［並べ替え順序］を［降順］、［フィールド名］に［alternative_music.csv］を選択し、［×］をクリックして画面を閉じます。  
    ※ここでは　並べ替えをフィールドにして降順にしました。    
12. ［マーク］カードの［角度］にある［カウント（alternative_music.csv）］をクリックし、［簡易表計算］→［合計に対する割合］をクリックします。  
13. ［マーク］カードの［角度］にある緑色のピルを、［Ctrl］キーを押しながら［マーク］カードの［ラベル］にドロップして複製します。  

<img width="1320" height="638" alt="スクリーンショット 2026-01-21 114315" src="https://github.com/user-attachments/assets/f407b410-b852-4cb8-a871-03ef186d9920" />

#### 練習問題10

日本のウィスキーに対するレビュー データがあります。このデータを使用して、各ウィスキーのレビュー数や各レビューを確認できる次のようなビジュアル表現を作成しましょう。  
詳細情報を必要なときだけ見せるには、ツールヒントを活用するのが効果的です。  

・「Bottle name」（ボトル名）ごとにレビュー数を棒グラフで降順で表示  
・「Sentiment」（ポジティブ、ニュートラル、ネガティブ）で色分け  
・棒グラフをマウスオーバーすることで、レビューの「Title」（タイトル）と「Review Content」（レビュー内容）をツールヒントで表示  
・「Brand」（ブランド）を「Hibiki」でフィルター  




 

